schema: '2.0'
stages:
  fetch_ev:
    cmd: "poetry run python src/data/fetch_ev_data.py\ngit commit -am \"âš¡ Updated
      raw EV data on $(date) with DVC pipeline\" || true\ngit push || true\ndvc push
      || true\n"
    deps:
    - path: src/data/fetch_ev_data.py
      hash: md5
      md5: e4114650fc5ad3007d0e27ffc7f8a625
      size: 3284
    outs:
    - path: data/raw/ev/ljubljana_ev_availability_combined.json
      hash: md5
      md5: 469d8b902fb03ebf26793b7f2cc8bbf7
      size: 37729
  preprocess_ev:
    cmd: "poetry run python src/data/preprocess_ev_data.py\ngit commit -am \"ðŸ§¹ Preprocessed
      EV data on $(date) with DVC pipeline\" || true\ngit push || true\ndvc push ||
      true\n"
    deps:
    - path: data/raw/ev/ljubljana_ev_availability_combined.json
      hash: md5
      md5: 469d8b902fb03ebf26793b7f2cc8bbf7
      size: 37729
    - path: src/data/preprocess_ev_data.py
      hash: md5
      md5: fca402c49896198f1697bcd463994594
      size: 2678
    outs:
    - path: data/preprocessed/ev
      hash: md5
      md5: 299a7046e07b0f24080acb47b3606271.dir
      size: 53469
      nfiles: 41
  validate_ev_data:
    cmd: "cd gx && poetry run python run_checkpoint.py\n"
    deps:
    - path: data/preprocessed/ev/
      hash: md5
      md5: 299a7046e07b0f24080acb47b3606271.dir
      size: 53469
      nfiles: 41
    outs:
    - path: gx/uncommitted
      hash: md5
      md5: 86b1d60daa322cb602f39fa4f5ca135e.dir
      size: 10501977
      nfiles: 311
  test_ev_data:
    cmd: poetry run python src/data/test_ev_data.py
    deps:
    - path: data/preprocessed/ev
      hash: md5
      md5: 299a7046e07b0f24080acb47b3606271.dir
      size: 53469
      nfiles: 41
    - path: src/data/test_ev_data.py
      hash: md5
      md5: bc384044bb131beb80d21f51db9ea27c
      size: 2593
    outs:
    - path: reports/ev_drift
      hash: md5
      md5: ae228aedf023aeb3d8bcc0412f3e5a2d.dir
      size: 156795719
      nfiles: 41
