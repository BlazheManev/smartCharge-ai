schema: '2.0'
stages:
  fetch_ev:
    cmd: "poetry run python src/data/fetch_ev_data.py\ngit commit -am \"âš¡ Updated
      raw EV data on $(date) with DVC pipeline\" || true\ngit push || true\ndvc push
      || true\n"
    deps:
    - path: src/data/fetch_ev_data.py
      hash: md5
      md5: 0656e046499586808beb067d25b81ab2
      size: 3390
    outs:
    - path: data/raw/ev/ljubljana_ev_availability_combined.json
      hash: md5
      md5: 3a1b6f7a3974ebd4772eb678f1453b89
      size: 37729
  preprocess_ev:
    cmd: "poetry run python src/data/preprocess_ev_data.py\ngit commit -am \"ðŸ§¹ Preprocessed
      EV data on $(date) with DVC pipeline\" || true\ngit push || true\ndvc push ||
      true\n"
    deps:
    - path: data/raw/ev/ljubljana_ev_availability_combined.json
      hash: md5
      md5: 3a1b6f7a3974ebd4772eb678f1453b89
      size: 37729
    - path: src/data/preprocess_ev_data.py
      hash: md5
      md5: 4bbdbd31b80927dccac3fb1dca85a76c
      size: 2755
    outs:
    - path: data/preprocessed/ev
      hash: md5
      md5: 43ce16f6881d5ff63bc4d62c318d3bb7.dir
      size: 42101
      nfiles: 41
  validate_ev_data:
    cmd: "cd gx && poetry run python run_checkpoint.py\n"
    deps:
    - path: data/preprocessed/ev/
      hash: md5
      md5: 43ce16f6881d5ff63bc4d62c318d3bb7.dir
      size: 42101
      nfiles: 41
    outs:
    - path: gx/uncommitted
      hash: md5
      md5: d89111ffe7573f3593296229f34ac99e.dir
      size: 7126706
      nfiles: 147
  test_ev_data:
    cmd: poetry run python src/data/test_ev_data.py
    deps:
    - path: data/preprocessed/ev
      hash: md5
      md5: 43ce16f6881d5ff63bc4d62c318d3bb7.dir
      size: 42101
      nfiles: 41
    - path: src/data/test_ev_data.py
      hash: md5
      md5: 9ce83619ab008d568b81aa26f7680cd6
      size: 2678
    outs:
    - path: reports/ev_drift
      hash: md5
      md5: aa2df76a0cc3684ac689ee344efd438b.dir
      size: 156846668
      nfiles: 41
